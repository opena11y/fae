<section id="id_element_results" class="report" aria-labelledby="id_result_label">

    <h2 id="id_result_label">Element Results</h2>

    <table  id="id_table_show_summary" class="details table table-striped table-hover sortable"  aria-labelledby="id_result_label"  aria-describedby="id_result_description">
        <thead>
          <tr>
            <th id="id_ele" class="text">Element Identifier</th>
            <th id="id_res" class="text">Result</th>
            <th id="id_pos" class="text">Position</th>
            <th id="id_mes" class="text">Message</th>
          </tr>
        </thead>
        <tbody>
        <script>

          var element_results = {{page_rule_result.element_results_json|safe}};

          console.log(element_results);

          for(var i = 0; i < element_results.length; i++ ) {

            var er = element_results[i];

            document.write('<tr>\n');

            document.write('<td class="text">' + er['element_identifier'] + '</td>\n');

            var rv = er['result_value'];
            if (rv == 5) document.write('<td class="text violation">Violation</td>\n');
            else if (rv == 4) document.write('<td class="text warning">Warning</td>\n');
            else if (rv == 3) document.write('<td class="text manual_check">Manual Check</td>\n');
            else if (rv == 2) document.write('<td class="text fae-hidden">Hidden</td>\n');
            else if (rv == 1) document.write('<td class="text passed">Pass</td>\n');
            else document.write('<td class="text not_applicable">-</td>\n');

            document.write('<td>' + er['ordinal_position']   + '</td>\n');
            document.write('<td>' + er['message']            + '</td>\n');

            document.write('</tr>\n');
         }   

        </script>
        </tbody>
    </table>    
</section>    
